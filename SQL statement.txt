テーブル名:USER_TABLE(PRIMARY_ID, ID, NAME, PASSWORD,TOKEN, STATUS)
CREATE TABLE USER_TABLE(
PRIMARY_ID INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,
ID VARCHAR(15) NOT NULL,
NAME VARCHAR(20) NOT NULL,
PASSWORD VARCHAR(256) NOT NULL,
SALT VARCHAR(256) NOT NULL,
STATUS VARCHAR(10) NOT NULL
);


テーブル名:GROUP_TABLE(PRIMARY_ID, ID, NAME, TOKEN, STATUS)
CREATE TABLE GROUP_TABLE(
PRIMARY_ID INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,
ID VARCHAR(20) NOT NULL,
NAME VARCHAR(20) NOT NULL,
TOKEN VARCHAR(256) NOT NULL,
STATUS VARCHAR(10) NOT NULL,

);


テーブル名:MEMBER_TABLE(PRIMARY_ID, OUT_UID, OUT_GID, AUTHORITY)
CREATE TABLE MEMBER_TABLE(
PRIMARY_ID INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,
USER_ID INTEGER NOT NULL,
GROUP_ID INTEGER NOT NULL,
AUTHORITY VARCHAR(10) NOT NULL,
FOREIGN  KEY(USER_ID) REFERENCES public.USER_TABLE(PRIMARY_ID),
FOREIGN KEY (GROUP_ID) REFERENCES public.GROUP_TABLE(PRIMARY_ID)
);




CREATE TABLE ENTRY_EXIT_LOG(
USER_ID INTEGER NOT NULL,
GROUP_ID INTEGER NOT NULL,
YEAR INTEGER NOT NULL,
MONTH INTEGER NOT NULL,
DAY INTEGER NOT NULL,
HOUR INTEGER NOT NULL,
MINUTE INTEGER NOT NULL,
SECOND INTEGER NOT NULL,
FLAG VARCHAR(3) NOT NULL,
FOREIGN KEY(USER_ID) REFERENCES public.USER_TABLE(PRIMARY_ID),
FOREIGN KEY(GROUP_ID) REFERENCES public.GROUP_TABLE(PRIMARY_ID)
);

//使用するかはまだ未定
CREATE TABLE TIME_TABLE(
PRIMARY_ID INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,
GROUP_ID INTEGER NOT NULL,
START BIGINT NOT NULL,
END BIGINT NOT NULL,
FOREIGN KEY(GROUP_ID) REFERENCES public.GROUP_TABLE(PRIMARY_ID)
);


//使用するかはまだ未定
//理由プログラムのリストとして実装する可能性が高いから
CREATE TABLE ENTRY_EXIT_CODE(
PRIMARY_ID INTEGER NOT NULL AUTO_INCREMENT PRIMARY KEY,
CODE VARCHAR(256) NOT NULL,
GROUP_ID INTEGER NOT NULL,
FOREIGN KEY(GROUP_ID) REFERENCES public.GROUP_TABLE(PRIMARY_ID)
);

SELECT  GROUP_N.ID AS GROUPID, GROUP_N.NAME AS GROUPNAME, GROUP_N.TOKEN, USER.ID AS USERID, USER.NAME AS USERNAME, MEMBER.AUTHORITY
 FROM (USER_TABLE USER INNER JOIN MEMBER_TABLE MEMBER ON USER.PRIMARY_ID = MEMBER.PRIMARY_ID)
INNER JOIN GROUP_TABLE GROUP_N ON MEMBER.PRIMARY_ID = GROUP_N.PRIMARY_ID
WHERE GROUP_N.ID = 1 AND USER.ID = 2